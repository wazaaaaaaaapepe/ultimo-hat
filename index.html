<script>
  fetch("https://catalog.roproxy.com/v1/search/items/details?SortType=3&Limit=10")
    .then(response => response.json())
    .then(data => {
      // Filtrar por UGC creado por usuarios y tipo de Asset (8 para accesorios)
      let ugcLimited = data.data.filter(item => item.assetType === 8 && item.creatorType === "User"); 

      if (ugcLimited.length === 0) {
        document.getElementById("hatInfo").innerHTML = "<p>No se encontraron UGC Limiteds. Mostrando el Ãºltimo disponible.</p>";
        const latestItem = data.data[0]; // Mostrar el primer item disponible, aunque no sea UGC
        displayItem(latestItem);
      } else {
        const item = ugcLimited[0]; // Mostrar el primer UGC Limited encontrado
        displayItem(item);
      }
    })
    .catch(err => {
      document.getElementById("hatInfo").innerText = "Error al obtener datos";
      console.error(err);
    });

  function displayItem(item) {
    const hatHtml = `
      <p><strong>Nombre:</strong> ${item.name}</p>
      <p><strong>Precio:</strong> ${item.price || "Gratis"}</p>
      <p><strong>Link:</strong> <a href="https://www.roblox.com/catalog/${item.id}" target="_blank">Ver en Roblox</a></p>
      <img src="${item.thumbnail.url}" width="150">
    `;
    document.getElementById("hatInfo").innerHTML = hatHtml;
  }
</script>
